# NoSql数据库优缺点

优点：
- 简单的扩展
- 快速的读写
- 低廉的成本
- 灵活的数据模型

缺点：
- 不提供对SQL的支持
- 支持的特性不够丰富（没有事务的概念）
- 现有的产品不够成熟（相对来说）

# SQL数据库与NoSQL数据库区别

SQL：实时一致性，支持事务，可多表联查，限制较多，对表的应用不够灵活，（在没有特别多的事务需求情况下）额外的特性比较消耗性能
NoSQL：操作简单，方便扩展，更好的性能

![img](/Users/ldp/study/mynote/study/数据/数据库/MongoDB/images/dea31b5b-c660-4db8-9b0a-d6a2e72e1acb.jpg)

# MongoDB简介

MongoDB是用C++语言编写的非关系型数据库。特点是高性能、易部署、易使用，存储数据十分方便，主要特性有：

- 面向集合存储，易于存储对象类型的数据
- 模式自由
- 支持动态查询支持完全索引，包含内部对象
- 支持复制和故障恢复
- 使用高效的二进制数据存储，包括大型对象
- 文件存储格式为BSON(一种JSON的扩展)

![img](/Users/ldp/study/mynote/study/数据/数据库/MongoDB/images/2752a720-599a-43b5-a09d-33b671ecea9d.jpg) 

# MongoDB基本概念介绍

- 文档(document)是MongoDB中数据的基本单元，非常类似于关系型数据库系统中的行(但是比行要复杂的多)
- 集合(collection)就是一组文档，如果说MongoDB中的文档类似于关系型数据库中的行，那么集合就如同表
- MongoDB的单个计算机可以容纳多个独立的数据库，每一个数据库都有自己的集合和权限
- MongoDB自带简洁但功能强大的JavaScript shell，这个工具对于管理MongoDB实例和操作数据作用非常大
- 每一个文档都有一个特殊的键"_id",它在文档所处的集合中是唯一的，相当于关系数据库中的表的主键

# MongoDB数据类型

| 数据类型   | 描述                                                         | 举例                 |
| ---------- | ------------------------------------------------------------ | -------------------- |
| null       | 表示空值或者未定义的对象                                     | {"x":null}           |
| 布尔值     | 真或者假：true或者false                                      | {"x":true}           |
| 32位整数   | 32位整数。shell是不支持该类型的，shell中默认会转换成64位浮点数 |                      |
| 64位整数   | 64位整数。shell是不支持该类型的，shell中默认会转换成64位浮点数 |                      |
| 64位浮点数 | 64位浮点数。shell中的数字就是这一种类型                      | {"x"：3.14，"y"：3}  |
| 字符串     | UTF-8字符串                                                  | {"foo":"bar"}        |
| 符号       | shell不支持，shell会将数据库中的符号类型的数据自动转换成字符串 |                      |
| 对象id     | 文档的12字节的唯一id                                         | {"id": ObjectId()}   |
| 日期       | 从标准纪元开始的毫秒数                                       | {"date":new Date()}  |
| 正则表达式 | 文档中可以包含正则表达式，遵循JavaScript的语法               | {"foo":/foobar/i}    |
| 代码       | 文档中可以包含JavaScript代码                                 | {"x"：function() {}} |
| 未定义     | undefined                                                    | {"x"：undefined}     |
| 数组       | 值的集合或者列表                                             | {"arr": ["a","b"]}   |
| 内嵌文档   | 文档可以作为文档中某个key的value                             | {"x":{"foo":"bar"}}  |

#   **常用命令**

- mongod(主程序数据库执行程序，部署数据库)
- mongo(客户端链接mongodb数据服务器,对数据库操作时需要先连接)
- mongoexport/import(数据库导入导出)
- mongodump/restore(数据库导入与导出,二进制文件,用于数据库备份与恢复)
- mongooplog(操作日志回放，数据操作记录的数据集合)
- mongostat(数据库各种状态)